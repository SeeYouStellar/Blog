### DMA是什么

直接内存访问。可以完成外设与内存，内存与内存之间的数据传输。

外设需要内存访问，则向cpu发起请求，cpu将总线控制权交给DMA芯片，让DMA芯片来控制完成数据的传输。

###  内存、外村

https://zhuanlan.zhihu.com/p/113869761

### cache地址与内存地址映射

当cpu要访问某个内存地址，地址映射要做的就是可以通过这个内存地址在cache中访问。地址映射实际就是内存地址和cache内地址之间的关系

1. 全相联映射：内存中的块可以存于cache中的任意块中。所以内存地址与cache地址形式一样，都是（块号+字号）。其中cpu访问方式为将内存地址块号和cache中所有块的块号比较，若相同则找到该块，用字号即可找到。每次要比对块号，这一步需要用复杂的比较器来实现。
2. 直接映射：内存被分成多个区，每个区大小与cache大小相同。每个区又可分为多个块，自然每个区块数和cache块数一样，对每个区的块号采用mod，使相同余数的块必须存于cache中的该余数块号。内存地址可看作（区号+块号+字号），cache地址可看成（区号+字号）。cpu访问方式是将内存地址中块号取模后找到cache中对应块（因为每个区内块存入cache中的位置是固定的，所以不需要用块号来查找cache中对应块），接着比较cache的区号和内存区号是否一致。如果cache过于小，cache可存放的块数很少，则相对的内存中区就多，要存入同一位置的块就多，会引起很多冲突。
3. 组相联映射：内存被分成多个区，cache被分成多个组，内存每个区内的块只能存入cache中固定组（与直接映射一样），但可存于组内任意块。内存地址形式（区号+块号+字号），cache地址（区号+字号）。cpu访问方式是内存地址中的块号取模后，按顺序该块号对应的cache组，找到后比较cache区号与内存区号是否一致。

### 执行单条指令时单周期CPU和五级流水CPU谁更快？为什么？

传统的单周期CPU是指指令在一个时钟周期（即时钟到来一次）内执行完成，包括所有的操作。但这里存在的确定就是时钟周期的时间是固定的，所以时钟周期的时间应该是最长的指令所需要的时间，对于那种很短的指令，就会造成浪费。引入多周期，这时就可以减少浪费的时间。 3）单周期CPU（是指在一个时钟周期内完成这五个阶段的处理）。因为五级流水CPU中每一个操作的流水时间是一样的，取得是这五步中的最大执行时间，那么就是最大操作时间*需要执行的操作数目（取指、译码、、、）。 4）因为只有一条指令嘛，所以单周期最快，多条指令是考虑流水线比较好。
